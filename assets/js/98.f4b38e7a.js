(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{602:function(t,v,_){"use strict";_.r(v);var a=_(21),e=Object(a.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h2",{attrs:{id:"执行计划"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#执行计划"}},[t._v("#")]),t._v(" 执行计划")]),t._v(" "),_("h4",{attrs:{id:"什么是执行计划"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#什么是执行计划"}},[t._v("#")]),t._v(" 什么是执行计划")]),t._v(" "),_("p",[t._v("使用EXPLAIN 关键字可以模拟优化器执行SQL查询语句，从而知道Mysql是如何处理你的SQL语句的，分析你的查询语句或者表结构的性能瓶颈")]),t._v(" "),_("ul",[_("li",[t._v("表的读取顺序")]),t._v(" "),_("li",[t._v("数据读取操作的操作类型")]),t._v(" "),_("li",[t._v("哪些索引可以使用")]),t._v(" "),_("li",[t._v("哪些索引实际被使用")]),t._v(" "),_("li",[t._v("表之间的引用")]),t._v(" "),_("li",[t._v("每张表有多少被优化器查询")])]),t._v(" "),_("h4",{attrs:{id:"语法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[t._v("#")]),t._v(" 语法")]),t._v(" "),_("p",[_("code",[t._v("Explain ")]),t._v(" + "),_("code",[t._v("SQL")]),t._v("语句")]),t._v(" "),_("p",[t._v("执行计划分析\n"),_("img",{attrs:{src:"/img/database/mysql2.png",alt:"mysql2"}})]),t._v(" "),_("ol",[_("li",[t._v("id: 执行顺序，如果id相等的， 会按照从上往下依次查询， id越大越先执行")]),t._v(" "),_("li",[t._v("select_type : 查询类型，")])]),t._v(" "),_("ul",[_("li",[t._v("SIMPLE: （不包含UNION，不包含子查询，就是最简单的查询）")]),t._v(" "),_("li",[t._v("PRIMARY : 查询中若包含任何复杂的子查询，最外层的查询被标记为PRIMARY")]),t._v(" "),_("li",[t._v("SUBQUERY： 子查询")]),t._v(" "),_("li",[t._v("DERIVED： 衍生表查询")]),t._v(" "),_("li",[t._v("UNION： 若第二个查询带有UNION，则被标记为UNION")]),t._v(" "),_("li",[t._v("UNION RESULT: UNION的聚合结果")])]),t._v(" "),_("ol",{attrs:{start:"3"}},[_("li",[t._v("table: 操作的那张表")]),t._v(" "),_("li",[t._v("type ： type显示的是访问类型，是较为重要的一个指标，结果只是从最好到最坏\nsystem > const > eq_ref > ref > rang > index > ALL\nconst : 经过一次就可以找到\neq_ref: 唯一性索引，\nref: 不是唯一索引\nrang : 带有between in 等\nindex: 查询列都是索引的\nALL： 全表扫描的\n5： passbile_keys： 可能会用到的索引\n6： key: 实际中使用的索引，如果为NULL，则没有使用索引")])]),t._v(" "),_("h2",{attrs:{id:"sql-优化原则"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#sql-优化原则"}},[t._v("#")]),t._v(" SQL 优化原则")]),t._v(" "),_("ul",[_("li",[t._v("列类型选择 优先级： 整型 > date, tiime> enum, char > varchar > blob, text")]),t._v(" "),_("li",[t._v("选择列长度的时候，够用就行原则，不要设置过大， 比如声明varchar(100) 和varchar(300)， 在表联查的时候varchar(300)会占更多内存")]),t._v(" "),_("li",[t._v("尽量避免使用NULL")])])])}),[],!1,null,null,null);v.default=e.exports}}]);